<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="" />
    <meta name="author" content="wingbot.ai" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"
    />
    <title>Wingbot.ai chatbot</title>
    <link href="https://fonts.googleapis.com/css?family=Rubik:300,400,500,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Space+Mono:400,400i,700,700i&display=swap" rel="stylesheet">
    <!-- BOTSERVICE CSS -->
    <link href="https://cdn.botframework.com/botframework-webchat/latest/botchat.css" rel="stylesheet" />

    <link rel = "stylesheet" href = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css"/>
    <script src = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
</head>

<body>
    <section class="hero is-fullheight">
        <!-- Hero head: will stick at the top -->
        <div class="hero-head has-cs-bg">
            <nav class="navbar">
                <div class="container">
                    <div class="navbar-brand">
                        <a class="navbar-item">
                            <!-- put logo here -->
                        </a>
                        <div class="navbar-item">
                            <svg width="148" height="22" viewBox="0 0 148 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15.8386 15.8605C15.5789 17.6512 14.8 19.1861 13.5018 20.2093C11.9439 21.4884 10.386 22 8.04912 22C7.01053 22 5.71228 21.7442 4.93333 21.4884C3.89474 20.9768 3.11579 20.4651 2.33684 19.9535C1.55789 19.1861 1.0386 18.4186 0.519298 17.3954C0.259649 16.6279 0 15.3488 0 14.0698V13.814C0 12.5349 0.259649 11.5116 0.519298 10.4884C1.0386 9.46512 1.55789 8.69768 2.33684 7.93024C3.11579 7.1628 3.89474 6.65117 4.93333 6.39536C5.97193 6.13954 7.01053 5.88373 8.04912 5.88373C10.1263 5.88373 11.9439 6.39536 13.2421 7.41861C14.5403 8.44187 15.3193 9.97675 15.8386 11.7674L11.9439 12.7907C11.9439 11.7674 11.4246 11 10.6456 10.4884C10.1263 9.72094 9.34737 9.46512 8.04912 9.46512C7.52982 9.46512 7.01053 9.46512 6.49123 9.72094C5.97193 9.97675 5.45263 10.2326 5.19298 10.7442C4.93333 11.2558 4.41403 11.5116 4.15439 12.0233C4.15439 12.5349 3.89474 13.3023 3.89474 13.814V14.0698C3.89474 14.8372 3.89474 15.3488 4.15439 15.8605C4.41403 16.3721 4.67368 16.8837 5.19298 17.1395C5.45263 17.6512 5.97193 17.907 6.49123 17.907C7.01053 17.907 7.52982 18.1628 8.04912 18.1628C9.34737 18.1628 10.1263 17.907 10.9053 17.3954C11.4246 16.8837 11.9439 16.1163 12.2035 15.093L15.8386 15.8605Z" fill="#04EA00"/>
                                <path d="M19.214 6.13953H25.7053V8.44185H26.2246C26.4842 7.67441 27.0035 6.90697 27.7825 6.39534C28.5614 5.88371 29.3403 5.6279 30.3789 5.6279C31.9368 5.6279 33.2351 6.13953 34.014 7.16278C35.0526 8.18604 35.3123 9.46511 35.3123 11.5116V12.2791L31.1579 12.5349V12.2791C31.1579 11.2558 31.1579 10.7442 30.6386 10.2326C30.1193 9.72092 29.6 9.46511 28.5614 9.46511C27.5228 9.46511 27.0035 9.72092 26.4842 10.2326C26.2246 11 25.9649 11.7674 25.9649 12.7907V17.907H29.6V21.4884H18.6947V17.907H21.8105V9.97674H19.214V6.13953Z" fill="#04EA00"/>
                                <path d="M54.007 14.0698C54.007 15.3488 53.7474 16.3721 53.2281 17.3954C52.7088 18.4186 52.1895 19.1861 51.4105 19.9535C50.6316 20.7209 49.8526 21.2326 48.814 21.4884C47.7754 21.7442 46.7368 22 45.6982 22C44.6596 22 43.621 21.7442 42.5825 21.4884C41.5439 21.2326 40.7649 20.7209 39.986 19.9535C39.207 19.1861 38.6877 18.4186 38.1684 17.3954C37.6491 16.3721 37.9088 15.3488 37.9088 14.0698V13.814C37.9088 12.5349 38.1684 11.5116 38.6877 10.4884C39.207 9.46512 39.7263 8.69768 40.5053 7.93024C41.2842 7.1628 42.0632 6.65117 43.1018 6.39536C44.1403 6.13954 45.1789 5.88373 46.2175 5.88373C47.2561 5.88373 48.2947 6.13954 49.3333 6.39536C50.3719 6.65117 51.1509 7.1628 51.9298 7.93024C52.7088 8.69768 53.2281 9.46512 53.7474 10.4884C54.2667 11.5116 54.5263 12.5349 54.5263 13.814V14.0698H54.007ZM45.9579 18.1628C46.4772 18.1628 46.9965 18.1628 47.5158 17.907C48.0351 17.6512 48.5544 17.3954 48.814 17.1395C49.0737 16.8837 49.593 16.3721 49.593 15.8605C49.8526 15.3488 49.8526 14.8372 49.8526 14.0698V13.5581C49.8526 13.0465 49.8526 12.2791 49.593 11.7674C49.3333 11.2558 49.0737 10.7442 48.814 10.4884C48.5544 10.2326 48.0351 9.97675 47.5158 9.72094C46.9965 9.46512 46.4772 9.46512 45.9579 9.46512C45.4386 9.46512 44.9193 9.46512 44.4 9.72094C43.8807 9.97675 43.3614 10.2326 43.1018 10.4884C42.8421 10.7442 42.3228 11.2558 42.3228 11.7674C42.0632 12.2791 42.0632 12.7907 42.0632 13.5581V14.0698C42.0632 14.5814 42.0632 15.3488 42.3228 15.8605C42.5825 16.3721 42.8421 16.8837 43.1018 17.1395C43.3614 17.3954 43.8807 17.6512 44.4 17.907C44.9193 18.1628 45.4386 18.1628 45.9579 18.1628Z" fill="#04EA00"/>
                                <path d="M68.5474 6.13953H72.4421V21.4884H68.5474V19.186H68.0281C67.2491 20.9767 65.9509 21.7442 63.614 21.7442C62.8351 21.7442 62.0561 21.7442 61.5368 21.4884C60.7579 21.2325 59.9789 20.9767 59.7193 20.4651C59.2 19.9535 58.9403 19.186 58.6807 18.4186C58.421 17.6512 58.1614 16.6279 58.1614 15.6046V6.13953H62.0561V14.8372C62.0561 15.8605 62.3158 16.8837 62.8351 17.3953C63.3544 17.907 64.1333 18.4186 65.1719 18.4186C66.4702 18.4186 67.2491 18.1628 67.7684 17.3953C68.2877 16.6279 68.5474 15.6046 68.5474 14.3256V6.13953V6.13953Z" fill="#04EA00"/>
                                <path d="M88.2807 19.186H87.7614C87.5017 19.4419 87.5017 19.9535 87.2421 20.2093C86.9824 20.4651 86.7228 20.7209 86.2035 20.9767C85.6842 21.2326 85.4246 21.4884 84.9053 21.4884C84.386 21.7442 83.607 21.7442 83.0877 21.7442C82.0491 21.7442 81.2702 21.4884 80.4912 21.2326C79.193 20.9767 78.6737 20.4651 77.8947 19.9535C77.3754 19.186 76.8561 18.4186 76.3368 17.3953C75.8175 16.3721 76.0772 15.3488 76.0772 14.0698V13.5581C76.0772 12.2791 76.3368 11.2558 76.5965 10.2326C76.8561 9.2093 77.3754 8.44186 78.1544 7.67442C78.6737 6.90698 79.4526 6.39535 80.4912 6.13953C81.2702 5.88372 82.3088 5.62791 83.0877 5.62791C84.386 5.62791 85.4245 5.88372 85.9438 6.39535C86.7228 6.90698 87.2421 7.4186 87.7614 8.44186H88.2807V0H92.1754V21.4884H88.2807V19.186ZM84.1263 18.1628C85.4246 18.1628 86.4631 17.907 86.9824 16.8837C87.7614 16.3721 88.2807 15.3488 88.2807 14.0698V13.814C88.2807 12.5349 88.021 11.5116 87.2421 10.7442C86.4631 9.97674 85.4246 9.46512 84.386 9.46512C83.0877 9.46512 82.0491 9.72093 81.5298 10.4884C80.7509 11.2558 80.4912 12.2791 80.4912 13.5581V13.814C80.4912 15.093 80.7509 16.1163 81.5298 16.8837C82.3088 17.6512 82.8281 18.1628 84.1263 18.1628Z" fill="#04EA00"/>
                                <path d="M106.197 19.186C105.677 20.2093 105.158 20.7209 104.379 21.2326C103.6 21.7442 102.821 21.7442 101.782 21.7442C100.744 21.7442 99.9649 21.4884 99.186 21.2326C98.407 20.9767 97.6281 20.4651 97.1088 19.6977C96.5895 18.9302 96.0702 18.1628 95.5509 17.1395C95.2912 16.1163 95.0316 15.093 95.0316 13.8139V13.5581C95.0316 12.2791 95.2912 11.2558 95.5509 10.2326C95.8105 9.20929 96.3298 8.44185 97.1088 7.67441C97.6281 6.90697 98.407 6.39534 99.186 6.13953C99.9649 5.88371 100.744 5.6279 101.782 5.6279C102.821 5.6279 103.86 5.88371 104.379 6.13953C105.158 6.39534 105.677 7.16278 105.937 7.93022H106.456V6.13953H110.351V16.8837C110.351 17.3953 110.611 17.907 111.13 17.907H111.649V21.4884H109.053C108.274 21.4884 107.754 21.2326 107.235 20.9767C106.716 20.4651 106.456 19.9535 106.456 19.4419H106.197V19.186ZM102.561 18.1628C103.6 18.1628 104.639 17.907 105.418 17.1395C106.196 16.3721 106.456 15.3488 106.456 14.0698V13.8139C106.456 12.5349 106.196 11.5116 105.418 10.7442C104.639 9.97674 103.86 9.72092 102.561 9.72092C101.263 9.72092 100.484 9.97674 99.7053 10.7442C98.9263 11.5116 98.6667 12.5349 98.6667 13.8139V14.0698C98.6667 15.3488 98.9263 16.3721 99.7053 17.1395C100.484 17.907 101.523 18.1628 102.561 18.1628Z" fill="black"/>
                                <path d="M130.344 15.8605C130.084 17.6512 129.046 19.1861 127.747 20.2093C126.449 21.2326 124.632 21.7442 122.554 21.7442C121.516 21.7442 120.218 21.4884 119.439 21.2326C118.4 20.9768 117.621 20.4651 116.842 19.6977C116.063 18.9302 115.544 18.1628 115.025 17.3954C114.505 16.3721 114.505 15.3488 114.505 14.0698V13.814C114.505 12.5349 114.765 11.5116 115.025 10.4884C115.544 9.46512 116.063 8.69768 116.842 7.93024C117.621 7.1628 118.4 6.65117 119.439 6.39536C120.477 6.13954 121.516 5.88373 122.554 5.88373C124.632 5.88373 126.449 6.39536 127.747 7.41861C129.046 8.44187 129.825 9.97675 130.344 11.7674L126.449 12.7907C126.449 11.7674 125.93 11 125.151 10.4884C124.372 9.97675 123.593 9.46512 122.295 9.46512C121.775 9.46512 121.256 9.46512 120.737 9.72094C120.477 9.97675 119.958 10.2326 119.439 10.7442C119.179 11 118.66 11.5116 118.66 12.0233C118.4 12.5349 118.4 13.3023 118.4 13.814V14.0698C118.4 14.8372 118.4 15.3488 118.66 15.8605C118.919 16.3721 119.179 16.8837 119.439 17.1395C119.958 17.6512 120.477 17.907 120.737 17.907C121.256 18.1628 121.775 18.1628 122.295 18.1628C123.593 18.1628 124.372 17.907 125.151 17.3954C125.67 16.8837 126.189 16.1163 126.449 15.093L130.344 15.8605Z" fill="black"/>
                                <path d="M133.979 6.13953H138.653V0H142.547V6.13953H148V9.72093H142.547V16.6279C142.547 17.1395 142.807 17.6512 143.326 17.6512H147.481V21.2326H140.989C140.211 21.2326 139.691 20.9767 139.172 20.4651C138.653 19.9535 138.393 19.4419 138.393 18.6744V9.97674H133.719V6.13953H133.979Z" fill="black"/>
                            </svg>  
                        </div>
                    </div>
                </div>
            </nav>
        </div>

        <!-- Hero content: will be in the middle -->
        <div class="hero-body">
            <div class="columns has-iframe">

                <div id="map"></div>

                <div class="column has-gray-bg">
                    <div id="app"></div>
                </div>
                <div class="column has-chat">
                    <!-- BOTSERVICE WEBCHAT -->
                    <div class="chatcontainer" style="display:none;">
                        <div class="framewrap">
                            <div id="webchat" class="chat"></div>
                            <script src="https://cdn.botframework.com/botframework-webchat/latest/botchat-es5.js"></script>
                            <script src="https://wingbotai.github.io/wingbot-browser-lib/botchat.js"></script>
                            <script>
                                /*
                                // detect an user ID and a conversation ID in url
                                var match = (window.location.search || '')
                                    .match(/uid=([^&]+)/);
                                var setUserId = match && decodeURIComponent(match[1]);

                                match = (window.location.search || '')
                                    .match(/cid=([^&]+)/);
                                var setCid = match && decodeURIComponent(match[1]); */

                                var directLine = wingbotBotChat({
                                    secret: 'VcYTrDeQRYc.walphC8WNn6f5xeM3_6rjn4exQZ3cZ9h7tPZC79jreM',
                                    // initAction: 'start',
                                    restoreConversation: true,
                                    // userName: 'Vy',
                                    // userID: setUserId,
                                    // conversationID: setCid
                                }, {
                                    resize: 'detect'
                                }, document.getElementById('webchat'));

                                window.directLine = directLine;

                                var ref = (window.location.search || '')
                                    .match(/ref=([^&]+)/);

                                if (ref) {
                                    ref = decodeURIComponent(ref[1]);
                                    var data = {};
                                    if (ref.match(/^{/)) {
                                        data = JSON.parse(ref);
                                        ref = data.action;
                                        data = data.data || {};
                                    }
                                    directLine.postBack(ref, data);
                                }
                            </script>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script src="/main.bundle.js"></script>
    
    <script>
        // Creating map options
        var mapOptions = {
            center: [50.0775048, 14.4119297],
            zoom: 15
        }

        var gardenIcon = L.icon({
            iconUrl: 'https://github.com/iamcal/emoji-data/blob/master/img-apple-64/1f34f.png?raw=true',

            iconSize:     [50, 50], // size of the icon
            iconAnchor:   [25, 25], // point of the icon which will correspond to marker's location
            popupAnchor:  [0, -25] // point from which the popup should open relative to the iconAnchor
        });

        // Creating a map object
        var map = new L.map('map', mapOptions);
        // Creating a Layer object
            var layer = new L.TileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png');
        // Adding layer to the map
        map.addLayer(layer);
        //var marker = L.marker([50.0778, 14.41306]);    // Creating a Marker
        //marker.addTo(map); // Adding marker to the map
        L.marker([50.0778, 14.41306], {icon: gardenIcon}).addTo(map);
        function onMapClick(e) {
            alert("You clicked the map at " + e.latlng);
            // NEW MARKER: var geoLocation = new L.Marker([e.latlng.lat, e.latlng.lng]).addTo(map);
        }
        map.on("click", onMapClick);
    </script>
</body>

</html>
